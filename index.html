<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#38bdf8">
<link rel="apple-touch-icon" href="image/logo.png">
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="icon" type="image/png" href="image/logo.png">
  <link rel="icon" type="image/png" href="image/logo.png">

<title>Study Planner</title>
</head>

<body>

    <div class="tab-bar">
        <button class="tab-btn active" onclick="openTab('home')">ğŸ  Home</button>
        <button class="tab-btn" onclick="openTab('plan')">ğŸ“… Plan</button>
        <button class="tab-btn" onclick="openTab('syllabus')">ğŸ“š Syllabus</button>
    </div>

    <h1>ğŸ“˜ Study Planner</h1>

    <div id="home" class="tab-content active">
        <div class="card">
            <label>ğŸ¯ Exam Countdown</label>
            <input type="date" id="examDate">
            <div id="countdown" class="countdown"></div>
        </div>

        <div class="card summary-box">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>â±ï¸ Today Study Time</h3>
                <div id="goalText">0% of 8h Goal</div>
            </div>
            <div class="goal-container">
                <div id="goalBar"></div>
            </div>
            <div class="summary-row" style="margin-top: 15px;">
                <span id="studyTime">0h 0m</span>
                <span id="studyStatus">Paused</span>
            </div>
            <div style="display:flex; gap:10px; margin-top:12px;">
                <button id="startBtn" onclick="startStudy()">â–¶ Start</button>
                <button id="breakBtn" onclick="takeBreak()" class="btn-status-pending">â¸ Break</button>
            </div>
        </div>

        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>ğŸ“Š Study History</h3>
                <div style="text-align: right;">
                    <small style="color: var(--text-dim);">Last 7 Days:</small>
                    <div id="weeklyTotal" style="color: var(--done); font-weight: 800;">0h 0m</div>
                </div>
            </div>
            <div id="studySlider" class="study-slider"></div>
        </div>
    </div>

    <div id="plan" class="tab-content">
        <div class="card">
            <h3>ğŸ•’ Today Study Schedule</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr><th>Sl</th><th>Subject</th><th>Chapter</th><th>Time</th><th>Done</th></tr>
                    </thead>
                    <tbody id="todayBody"></tbody>
                </table>
            </div>
            <div class="stats">
                <div class="stat completed">Done: <span id="tDone">0</span></div>
                <div class="stat pending">Left: <span id="tPending">0</span></div>
            </div>
        </div>
    </div>

    <div id="syllabus" class="tab-content">
        <div id="overallSummary" class="card summary-box">
            <h3>ğŸ“Š Overall Progress</h3>
            <div class="summary-row">
                <span id="overallCompleted" onclick="showCompletedModal()">âœ” Done</span>
                <span id="overallPending" onclick="showPendingModal()">â³ Pending</span>
            </div>
          <button onclick="resetProgress()" class="btn-reset">ğŸ”„ Reset All Progress</button>
        </div>

        <div class="card">
            <label>Select Subject</label>
            <select id="subjectSelect">
                <option value="">-- Choose --</option>
                <option>Arithmetic</option>
                <option>Reasoning</option>
                <option>Data Interpretation</option>
                <option>Computer</option>
                <option>Odisha History</option>
                <option>Odisha Geography</option>
                <option>Odisha Polity</option>
                <option>Odisha Economy</option>
                <option>Odisha Static GK</option>
            </select>
            
            <label style="margin-top:15px;">â• Add Custom Chapter</label>
            <div class="add-chapter-container">
                <input type="text" id="newChapterInput" placeholder="Name...">
                <button onclick="addChapter()" class="btn-add">Add</button>
            </div>
        </div>
      <div class="chapter-stats">
            Pending: <span id="pCount">0</span>
            Completed: <span id="cCount">0</span>
        </div>
        <div id="chapterList"></div>
    </div>

    <div id="appVersion">Version: 1.2.0</div>

    <div id="pendingModal" class="modal">
        <div class="modal-content card">
            <div class="modal-header">
                <h2 id="modalTitle">Details</h2>
                <span class="close-modal" onclick="closeModal()">&times;</span>
            </div>
            <div id="modalList" class="modal-body"></div>
        </div>
    </div>

    <div id="update-toast">
        <span style="font-size: 0.9rem;">âœ¨ New version available!</span>
        <button onclick="window.location.reload()">Update</button>
    </div>

    <script type="module" src="./script.js"></script>
</body>
</html>



